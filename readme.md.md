

# ROMA-LAB——SLAM暑期项目安排

>**课程安排：** 姚辰(yaoc@mail.sustech.edu.cn)，朱虎(12032412@mail.sustech.edu.cn)
>**时间安排：** 2021.6.15——2021.7.31(暂定)
>
>**时间要求：** 周一-周五期间，早上和下午做，晚上随意，可在实验室，也可自行安排；
>
>​          最迟7.10调通仿真平台；
>
>**课程要求：** 掌握ROS的入门用法；
>
>　　　　　　熟悉自主机器人各个模块的使用和信息的传递
>
>　　　　　　能够熟悉如何调试，替换各个模块，并能进行特定方向的应用展示
>
>　　　　　　**本暑期安排仅为ROMA-LAB的课程安排，请切勿生搬硬抄**
>
>​		   周末提交每日工作任务，建议以PPT形式上交
>
>**学习网站：** https://www.ncnynl.com/，https://github.com/Nlict-RC/course2021-wheeled_robot，  https://github.com/Nlict-RC/course2020-wheeled_robot，
>
>​          ros官网， GitHub， 知乎等
>
>**作业提交：** 代码：C++/python都可
>
>​          结束交一个report。记录一下自己code和debug的文档。使用在线文档（会在**飞书开通**）
>
>​          提交一份有关debug和code一些报告。实习过程中的一些问题等

[TOC]

---

### 第一周：仿真平台熟悉与控制

1. 熟悉ROS：搭建ros的系统以及学习ros的基础概念和命令。使用小乌龟的例子进行rosbag的录制和重放。订阅和发布节点可以使用小乌龟进行实现。
2. ROS包编程：包括功能包的构建，Rviz，tf, rqt的使用，发布和订阅节点。roslaunch的用法
3. ROS读取URDF信息：分别在rviz，gazebo中显示，了解urdf中的参数有什么作用，如何添加传感器，如何对参数进行自定义；添加 joint control 和 controller
4. 相关拓展：编译realsense的包，自己编写一个ros的订阅节点对图像进行处理（例如搭配OpenCV进行一些操作，此部分不需要配置GPU的版本），或者使用Kinect V3相机进行读取
5. 编译松灵小车的ros description: 学习如何使用ros controller, 在gazebo仿真环境中对小车进行控制，并能显示信息在rviz中。
6. 运动学及控制：运动学分解阿克曼结构，进而学习键盘控制仿真中的松灵小车速度，**本周重点**

---

### 第二周：仿真平台激光定位

1. Gazebo中进行2D激光仿真：将2D激光用到松灵小车仿真上，输出激光数据并进行sub/pub的测试验证；
2. 学习如何替换gazebo中的地图，在网上下载已有的world model，这里提供两个地图（https://www.youtube.com/watch?v=RCY_q_d2Xm0&t=0s， https://github.com/Nlict-RC/course2020-robot_practice）
3. 根据第一周对松灵小车的控制，使用一些开源包进行建图和定位 
4. 学习IMU，里程计等多传感器融合的EKF开源包的使用，特别是(robot localization)[http://wiki.ros.org/robot_localization]，(Robot Pose EKF)[http://wiki.ros.org/robot_pose_ekf]的融合使用，**本周重点**
5. 学习游戏手柄的控制，尝试写简单的命令，进而通过手柄控制进行建图
6. 详细对比2D激光的不同建图方法，多测试积累，分析在地图不同位置中的建图性能和不足，建议可以看看一些论文的benchmark

---

### 第三周：仿真平台激光导航规划

1. 使用激光建好的图进行ros-navigation仿真，对该包里面的相关内容需要有一定程度的掌握；
2. 使用不同的全局路径规划和局部路径规划算法对小车进行实验（DWA，TEB，RRT*及变体）；
3. 将大脚轮替换成麦克纳木伦，进行导航测试实验，这里参考ICRA比赛中的虚拟环境，最终是在一个迷宫中能够从左下角走到右上角（https://github.com/jackychen227/ICRA2018_DJI_RM_AI_Challenge_NJUST）
4. 探索定位与建图，学习边运动边探索，**本周重点**
5. 详细对比不同导航方法，不同定位方法，不同车辆平台下的定位导航行为和精度

---

### 第四周：松灵小车复现代码

1. 本周开始接触实物，在实物中先对实物的控制代码熟悉，了解松林小车代码的架构和接口（主要是如何发布和订阅信息）
2. 编译2D激光雷达的包，进行建图，构建包括栅格图，八叉树地图等进行验证
3. 在不同地图中进行导航验证前几周工作
4. 尝试3D激光雷达仿真和实物使用，将3D信息转化为2D激光信息后进行导航测试

---

### 第五周：松灵小车替换传感器

1. 熟悉D435i和kinect V3的数据信息，深度信息和彩色信息的对齐和使用
2. 熟悉D435i中的IMU信息，知道如何读取，处理信息
3. 对D435i的进行标定，首先标定相机的内外参，其次尝试标定IMU和相机
4. 将D435i和kinect V3装到车上，进行建图导航
5. 学习简单的三维重建，使用Rtab Map包进行环境构建
6. 了解相机和深度、激光信息之间的投影关系和映射关系

---

### 第六周：松灵小车应用

1. 对比相机和2D激光雷达建出来的图的定位和导航方法
2. 尝试：替换激光定位为视觉定位，这里使用d435i相机运行SLAM算法
3. 尝试：使用D435i进行建图，使用T265实现定位
4. 尝试：选择二维码进行实时定位和导航
5. 尝试：语音控制小车运动（前后左右，转弯等基础功能）
6. 尝试：迁移到其他小车进行功能测试与复现
7. 尝试：使用ORBSLAM等建稀疏点地图的开源代码（不适合导航使用），可搭配激光雷达一起使用
8. 尝试：追踪检测+定位

---

